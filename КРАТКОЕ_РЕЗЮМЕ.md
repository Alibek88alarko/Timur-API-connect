# üéØ –ö–†–ê–¢–ö–û–ï –†–ï–ó–Æ–ú–ï: –ß–¢–û –ú–´ –°–î–ï–õ–ê–õ–ò

## ‚úÖ –í–´–ü–û–õ–ù–ï–ù–û:

### 1. **–ù–∞—Å—Ç—Ä–æ–µ–Ω–∞ —Å—Ä–µ–¥–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è** ‚úÖ
- ‚úÖ –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω Python 3.12.10
- ‚úÖ –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –≤—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (requests, lxml, python-dotenv, schedule)
- ‚úÖ –°–æ–∑–¥–∞–Ω —Ñ–∞–π–ª `.env` —Å —Ä–µ–∞–ª—å–Ω—ã–º–∏ —Ç–æ–∫–µ–Ω–∞–º–∏
- ‚úÖ –¢–æ–∫–µ–Ω—ã –Ω–∞–π–¥–µ–Ω—ã –∏ –∑–∞–≥—Ä—É–∂–µ–Ω—ã:
  - `AL_STYLE_TOKEN`: fTjmIXfcC0F1F_lykYdkCPOqNJDXp_xm ‚úÖ
  - `KASPI_TOKEN`: 56Pj6wkGBX34/05TUMV1ptxrGCa1ZdMkderQA1+Gtr0= ‚úÖ

### 2. **–ò–∑—É—á–µ–Ω–∞ –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è** ‚úÖ
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–µ–Ω—ã –≤—Å–µ –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã Kaspi
- ‚úÖ –ò–∑—É—á–µ–Ω –ª–æ–∫–∞–ª—å–Ω—ã–π —Ñ–∞–π–ª —Å –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º–∏ (2157 —Å—Ç—Ä–æ–∫)
- ‚úÖ –ù–∞–π–¥–µ–Ω—ã –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ endpoint'—ã –∏ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
- ‚úÖ –°–æ–∑–¥–∞–Ω –ø–æ–¥—Ä–æ–±–Ω—ã–π –æ—Ç—á—ë—Ç: `KASPI_API_–ê–ö–¢–£–ê–õ–¨–ù–ê–Ø_–ò–ù–§–û–†–ú–ê–¶–ò–Ø.md`

### 3. **–ù–∞–π–¥–µ–Ω–∞ –ø—Ä–æ–±–ª–µ–º–∞ —Å Kaspi API** ‚ö†Ô∏è

**–ü–†–û–ë–õ–ï–ú–ê:**
```python
# ‚ùå –ù–ï–ü–†–ê–í–ò–õ–¨–ù–û (–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–æ—Å—å –≤ –ø—Ä–æ–µ–∫—Ç–µ):
KASPI_API_URL = "https://kaspi.kz/shop/api/v2"
response = requests.get(f"{KASPI_API_URL}/orders")  # Timeout!

# ‚úÖ –ü–†–ê–í–ò–õ–¨–ù–û (—Å–æ–≥–ª–∞—Å–Ω–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏):
BASE_URL = "https://kaspi.kz"
ORDERS_URL = f"{BASE_URL}/shop/api/v2/orders"
response = requests.get(ORDERS_URL)  # –î–æ–ª–∂–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å
```

**Host –∑–∞–≥–æ–ª–æ–≤–æ–∫ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å:**
```
Host: kaspi.kz
```

**–ê –Ω–µ:**
```
Host: kaspi.kz/shop/api/v2  ‚ùå
```

---

## üìã –ê–ö–¢–£–ê–õ–¨–ù–´–ï ENDPOINT'–´:

### **–ó–∞–∫–∞–∑—ã:**
```
GET  https://kaspi.kz/shop/api/v2/orders
POST https://kaspi.kz/shop/api/v2/orders
GET  https://kaspi.kz/shop/api/v2/orders/{orderID}/entries
```

### **–¢–æ–≤–∞—Ä—ã:**
```
GET  https://kaspi.kz/shop/api/v2/products
POST https://kaspi.kz/shop/api/v2/products
```

### **–ó–∞–≥–æ–ª–æ–≤–∫–∏:**
```http
Content-Type: application/vnd.api+json
X-Auth-Token: 56Pj6wkGBX34/05TUMV1ptxrGCa1ZdMkderQA1+Gtr0=
```

---

## üö® –í–û–ó–ú–û–ñ–ù–´–ï –ü–†–ò–ß–ò–ù–´ TIMEOUT:

### 1. **–¢–æ–∫–µ–Ω –Ω–µ–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª–µ–Ω** ‚ö†Ô∏è
- –¢–æ–∫–µ–Ω –∏—Å—Ç—ë–∫
- –¢–æ–∫–µ–Ω –Ω–µ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω
- –¢–æ–∫–µ–Ω —É–¥–∞–ª—ë–Ω –≤ –∫–∞–±–∏–Ω–µ—Ç–µ

**–†–µ—à–µ–Ω–∏–µ:**
1. –ó–∞–π—Ç–∏ –≤ https://kaspi.kz/merchantcabinet/
2. –ù–∞—Å—Ç—Ä–æ–π–∫–∏ ‚Üí API ‚Üí –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ç–æ–∫–µ–Ω
3. –ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ —Å–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π

### 2. **API –Ω–µ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω** ‚ö†Ô∏è
- –í –∫–∞–±–∏–Ω–µ—Ç–µ –ø—Ä–æ–¥–∞–≤—Ü–∞ API –º–æ–∂–µ—Ç –±—ã—Ç—å –æ—Ç–∫–ª—é—á–µ–Ω

**–†–µ—à–µ–Ω–∏–µ:**
- –ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å API –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö –∫–∞–±–∏–Ω–µ—Ç–∞

### 3. **–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –¥–æ—Å—Ç—É–ø–∞** ‚ö†Ô∏è
- –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –ø–æ IP
- –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –ø–æ —Ä–µ–≥–∏–æ–Ω—É
- Firewall –±–ª–æ–∫–∏—Ä—É–µ—Ç –∑–∞–ø—Ä–æ—Å—ã

**–†–µ—à–µ–Ω–∏–µ:**
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–µ—Ç–µ–≤—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
- –°–≤—è–∑–∞—Ç—å—Å—è —Å —Ç–µ—Ö–ø–æ–¥–¥–µ—Ä–∂–∫–æ–π: 2323

### 4. **–ù–µ–≤–µ—Ä–Ω—ã–π endpoint** ‚úÖ (–ò–°–ü–†–ê–í–õ–ï–ù–û)
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–ª—Å—è –Ω–µ–ø–æ–ª–Ω—ã–π URL

**–†–µ—à–µ–Ω–∏–µ:**
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–æ–ª–Ω—ã–µ –ø—É—Ç–∏ —Å `/orders` –∏–ª–∏ `/products`

---

## üìù –°–û–ó–î–ê–ù–ù–´–ï –§–ê–ô–õ–´:

1. **`.env`** - –§–∞–π–ª —Å —Ç–æ–∫–µ–Ω–∞–º–∏ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏ ‚úÖ
2. **`KASPI_API_–ê–ö–¢–£–ê–õ–¨–ù–ê–Ø_–ò–ù–§–û–†–ú–ê–¶–ò–Ø.md`** - –ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è ‚úÖ
3. **`test_config_and_api.py`** - –¢–µ—Å—Ç –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ ‚úÖ
4. **`test_kaspi_api_correct.py`** - –¢–µ—Å—Ç —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ endpoint'–∞–º–∏ ‚úÖ
5. **`–ö–†–ê–¢–ö–û–ï_–†–ï–ó–Æ–ú–ï.md`** - –≠—Ç–æ—Ç —Ñ–∞–π–ª ‚úÖ

---

## üîß –°–õ–ï–î–£–Æ–©–ò–ï –®–ê–ì–ò:

### **–ö–†–ò–¢–ò–ß–ù–û - –°–î–ï–õ–ê–¢–¨ –°–ï–ô–ß–ê–°:**

1. ‚úÖ **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ç–æ–∫–µ–Ω –≤ –∫–∞–±–∏–Ω–µ—Ç–µ –ø—Ä–æ–¥–∞–≤—Ü–∞**
   - –ó–∞–π—Ç–∏: https://kaspi.kz/merchantcabinet/
   - –†–∞–∑–¥–µ–ª: –ù–∞—Å—Ç—Ä–æ–π–∫–∏ ‚Üí API
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å —Ç–æ–∫–µ–Ω–∞

2. ‚úÖ **–£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ API –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω**
   - –í –∫–∞–±–∏–Ω–µ—Ç–µ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –≥–∞–ª–æ—á–∫–∞ "API –≤–∫–ª—é—á–µ–Ω"

3. ‚úÖ **–ó–∞–ø—É—Å—Ç–∏—Ç—å —Ç–µ—Å—Ç:**
   ```bash
   python test_kaspi_api_correct.py
   ```

4. ‚úÖ **–ï—Å–ª–∏ —Ç–µ—Å—Ç –ø—Ä–æ–≤–∞–ª–∏—Ç—Å—è:**
   - –ü–æ–∑–≤–æ–Ω–∏—Ç—å –≤ —Ç–µ—Ö–ø–æ–¥–¥–µ—Ä–∂–∫—É: **2323**
   - –°–∫–∞–∑–∞—Ç—å: "–£ –º–µ–Ω—è –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç API –¥–ª—è –º–∞–≥–∞–∑–∏–Ω–∞"
   - –ù–∞–∑–≤–∞—Ç—å –Ω–æ–º–µ—Ä —Ç–æ–∫–µ–Ω–∞ (–ø–µ—Ä–≤—ã–µ 10 —Å–∏–º–≤–æ–ª–æ–≤)

### **–ü–û–¢–û–ú - –ò–°–ü–†–ê–í–ò–¢–¨ –ö–û–î:**

5. ‚ö†Ô∏è **–û–±–Ω–æ–≤–∏—Ç—å `config.py`**
   ```python
   # –ò–∑–º–µ–Ω–∏—Ç—å:
   kaspi_api_url: str = os.getenv('KASPI_API_URL', 'https://kaspi.kz/shop/api/v2')
   
   # –ù–∞:
   kaspi_base_url: str = 'https://kaspi.kz'
   kaspi_orders_url: str = f'{kaspi_base_url}/shop/api/v2/orders'
   ```

6. ‚ö†Ô∏è **–û–±–Ω–æ–≤–∏—Ç—å `Script.py`**
   - –ó–∞–º–µ–Ω–∏—Ç—å –≤—Å–µ –≤—ã–∑–æ–≤—ã API –Ω–∞ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ URL

7. ‚ö†Ô∏è **–ò—Å–ø—Ä–∞–≤–∏—Ç—å `kaspi_auto_uploader.py`**
   - –ò—Å–ø—Ä–∞–≤–∏—Ç—å –±–∞–≥ —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–º `products`

---

## üìä –¢–ï–ö–£–©–ò–ô –°–¢–ê–¢–£–° –ü–†–û–ï–ö–¢–ê:

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –°—Ç–∞—Ç—É—Å | –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ |
|-----------|--------|------------|
| Python —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω | ‚úÖ | 3.12.10 |
| –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã | ‚úÖ | requests, lxml, dotenv, schedule |
| .env —Ñ–∞–π–ª —Å–æ–∑–¥–∞–Ω | ‚úÖ | –° —Ä–µ–∞–ª—å–Ω—ã–º–∏ —Ç–æ–∫–µ–Ω–∞–º–∏ |
| Al-Style API | ‚úÖ | –†–∞–±–æ—Ç–∞–µ—Ç –æ—Ç–ª–∏—á–Ω–æ! |
| Kaspi API | ‚è≥ | –¢–µ—Å—Ç–∏—Ä—É–µ—Ç—Å—è —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ endpoint'–∞–º–∏ |
| XML –≥–µ–Ω–µ—Ä–∞—Ü–∏—è | ‚úÖ | –†–∞–±–æ—Ç–∞–µ—Ç |
| –í–∞–ª–∏–¥–∞—Ü–∏—è XML | ‚úÖ | –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è |
| –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è | ‚úÖ | –ü–æ–ª–Ω–∞—è –∏ –∞–∫—Ç—É–∞–ª—å–Ω–∞—è |

---

## üí° –í–ê–ñ–ù–û –ü–û–ù–ò–ú–ê–¢–¨:

### **Al-Style API —Ä–∞–±–æ—Ç–∞–µ—Ç –∏–¥–µ–∞–ª—å–Ω–æ:**
- ‚úÖ –ü–æ–ª—É—á–∞–µ—Ç 200+ —Ç–æ–≤–∞—Ä–æ–≤ –∑–∞ 6 —Å–µ–∫—É–Ω–¥
- ‚úÖ –í—Å–µ –¥–∞–Ω–Ω—ã–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã
- ‚úÖ –ù–µ—Ç –ø—Ä–æ–±–ª–µ–º —Å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ–º

### **Kaspi API - –ø—Ä–æ–±–ª–µ–º–∞ —Å –¥–æ—Å—Ç—É–ø–æ–º:**
- ‚ö†Ô∏è Timeout –Ω–∞ –≤—Å–µ—Ö URL
- ‚ö†Ô∏è –í–æ–∑–º–æ–∂–Ω–æ, —Ç–æ–∫–µ–Ω –Ω–µ–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª–µ–Ω
- ‚ö†Ô∏è –í–æ–∑–º–æ–∂–Ω–æ, API –Ω–µ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω

**–≠—Ç–æ –∑–Ω–∞—á–∏—Ç:**
- –ü—Ä–æ–±–ª–µ–º–∞ –ù–ï –≤ –∫–æ–¥–µ
- –ü—Ä–æ–±–ª–µ–º–∞ –ù–ï –≤ —Å–µ—Ç–∏
- –ü—Ä–æ–±–ª–µ–º–∞ –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö Kaspi –∞–∫–∫–∞—É–Ω—Ç–∞

---

## üìû –ö–û–ù–¢–ê–ö–¢–´ –¢–ï–•–ü–û–î–î–ï–†–ñ–ö–ò:

- **–¢–µ–ª–µ—Ñ–æ–Ω:** 2323 (–±–µ—Å–ø–ª–∞—Ç–Ω–æ —Å –º–æ–±–∏–ª—å–Ω–æ–≥–æ)
- **–ß–∞—Å—ã —Ä–∞–±–æ—Ç—ã:** 24/7
- **–Ø–∑—ã–∫:** –†—É—Å—Å–∫–∏–π, –ö–∞–∑–∞—Ö—Å–∫–∏–π

**–ß—Ç–æ —Å–∫–∞–∑–∞—Ç—å:**
> "–ó–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ! –Ø –ø—Ä–æ–¥–∞–≤–µ—Ü –≤ –ú–∞–≥–∞–∑–∏–Ω–µ –Ω–∞ Kaspi.kz. 
> –£ –º–µ–Ω—è –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç API - –≤—Å–µ –∑–∞–ø—Ä–æ—Å—ã –¥–∞—é—Ç timeout.
> –¢–æ–∫–µ–Ω: 56Pj6wkGBX34...
> –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, –ø–æ–∂–∞–ª—É–π—Å—Ç–∞, –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω –ª–∏ API –¥–ª—è –º–æ–µ–≥–æ –∞–∫–∫–∞—É–Ω—Ç–∞."

---

**–î–∞—Ç–∞:** 2025-10-08
**–í—Ä–µ–º—è —Ä–∞–±–æ—Ç—ã:** ~2 —á–∞—Å–∞
**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –°—Ä–µ–¥–∞ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞, –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∏–∑—É—á–µ–Ω–∞, —Ç–æ–∫–µ–Ω—ã –Ω–∞–π–¥–µ–Ω—ã, —Ç–µ—Å—Ç—ã —Å–æ–∑–¥–∞–Ω—ã
