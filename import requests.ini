import requests
import time

# Ваш токен
ACCESS_TOKEN = "fTjmIXfcC0F1F_lykYdkCPOqNJDXp_xm"
BASE_URL = "https://api.al-style.kz/api"

# Заголовки для авторизации
HEADERS = {
    "Authorization": f"Bearer {ACCESS_TOKEN}",
    "Content-Type": "application/json"
}

def get_categories():
    """Получает список категорий."""
    url = f"{BASE_URL}/categories"
    params = {
        "access-token": ACCESS_TOKEN
    }
    try:
        response = requests.get(url, headers=HEADERS, params=params)
        if response.status_code == 200:
            categories = response.json()
            return categories
        else:
            print(f"Ошибка: {response.status_code} - {response.text}")
            return None
    except Exception as e:
        print(f"Ошибка при запросе: {e}")
        return None

if __name__ == "__main__":
    categories = get_categories()
    if categories:
        print("Список категорий:")
        for category in categories:
            print(f"ID: {category['id']}, Название: {category['name']}")
    time.sleep(5)  # Ждём 5 секунд перед следующим запросом
